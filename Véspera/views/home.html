<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V√©spera ‚Äî Onde seus dias acabam e seus sonhos come√ßam</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --cor-primaria: #b48ad1; /* üîπ Cor principal (roxinho do fundo) */
      --cor-secundaria: #a374c4;
      --cor-texto: #222;
      --cor-texto-claro: #fff;
      --cor-destaque: #7e57c2;
      --fundo-noturno: #1a1a2e; /* üî∏ Cor do fundo modo noturno */
      --texto-noturno: #f5f5f5; /* üî∏ Cor do texto no modo noturno */
      --bg: #f1e6ff;
      --card: #ffffff;
      --primary: #6a3fa0;
      --secondary: #b48ff2;
      --dark-bg: #1e1e2e;
      --dark-card: #2c2c3a;
      --dark-text: #f5f5f5;
      --text: #2e1f3e;
    
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: var(--cor-primaria);
      color: var(--cor-texto);
      transition: background 0.3s, color 0.3s;
    }

    header {
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    header img {
      height: 30px;
    }

    nav a {
      text-decoration: none;
      color: #000;
      font-weight: 600;
      margin: 0 12px;
      transition: color 0.3s;
    }

    nav a:hover {
      color: var(--cor-destaque);
    }

       .login-btn {
      background: var(--primary);
      color: white;
      padding: 6px 16px;
      border-radius: 20px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }
    .login-btn:hover { background: var(--secondary); }


      .toggle {
      display: flex;
      align-items: center;
      cursor: pointer;
      background: var(--secondary);
      border-radius: 20px;
      padding: 4px 10px;
      color: white;
      font-weight: 500;
      user-select: none;
    }

    .toggle span {
      margin-left: 8px;
      font-size: 0.9rem;
    }

    /* Hero Section */
    .hero {
      text-align: center;
      padding: 80px 20px 40px;
    }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--cor-texto-claro);
    }

    .hero p {
      font-size: 1.1rem;
      color: var(--cor-texto-claro);
      margin-bottom: 40px;
    }

    .hero img {
      width: 80%;
      max-width: 800px;
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    /* Bot√£o modo noturno */
    .modo-noturno {
      position: absolute;
      right: 50px;
      top: 130px;
      background: #fff;
      border-radius: 50px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 90px;
      padding: 5px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .modo-noturno span {
      font-size: 0.8rem;
      color: #000;
      margin-left: 8px;
    }

    .modo-btn {
      background: var(--cor-destaque);
      color: white;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s;
    }

    /* Conte√∫do Principal */
    .conteudo {
      background: #f9f4ff;
      padding: 50px 20px;
      border-radius: 25px 25px 0 0;
      margin-top: 60px;
    }

    .conteudo h2 {
      color: var(--cor-destaque);
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 20px;
    }

    .conteudo p {
      max-width: 800px;
      margin: 0 auto 30px;
      text-align: center;
      line-height: 1.6;
    }

    .tabela {
      max-width: 700px;
      margin: 40px auto;
      border-collapse: collapse;
      width: 100%;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      border-radius: 12px;
      overflow: hidden;
    }

    .tabela th, .tabela td {
      padding: 15px;
      text-align: left;
    }

    .tabela th {
      background: var(--cor-secundaria);
      color: white;
    }

    .tabela tr:nth-child(even) {
      background: #f3eaff;
    }

    .tabela tr:hover {
      background: #e3d5f9;
      transition: 0.2s;
    }

    /* Equipe */
    .equipe {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
      margin-top: 40px;
    }

    .membro {
      text-align: center;
      width: 130px;
    }

    .membro img {
      width: 120px;
      height: 120px;
      border-radius: 15px;
      object-fit: cover;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }

    .membro img:hover {
      transform: scale(1.05);
    }

    .membro h4 {
      margin-top: 10px;
      color: var(--cor-destaque);
      font-size: 1rem;
    }

    /* Footer */
    footer {
      background: var(--cor-secundaria);
      color: white;
      text-align: center;
      padding: 30px 20px;
      margin-top: 50px;
      border-top: 3px solid #fff3;
    }

    .footer-icons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .footer-icons a {
      color: white;
      font-size: 1.3rem;
      text-decoration: none;
      transition: transform 0.3s, color 0.3s;
    }

    .footer-icons a:hover {
      color: #ffe1ff;
      transform: translateY(-3px);
    }

    .contato {
      margin-top: 10px;
      font-size: 0.9rem;
    }

    /* ===== MODO NOTURNO ATIVO ===== */
    body.dark-mode {
      background: var(--fundo-noturno);
      color: var(--texto-noturno);
    }
    body.dark-mode header {
      background: #222;
    }
    body.dark-mode .hero h1,
    body.dark-mode .hero p {
      color: var(--texto-noturno);
    }
    body.dark-mode .conteudo {
      background: #2a2a40;
      color: var(--texto-noturno);
    }
    body.dark-mode footer {
      background: #111;
    }

    /* Chatbot Styles */
    .chatbot-toggle {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #6a3fa0 0%, #b48ad1 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(106, 63, 160, 0.4);
      z-index: 1000;
      transition: all 0.3s ease;
      border: 4px solid #fff;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .chatbot-toggle:hover {
      transform: scale(1.15) rotate(10deg);
      animation: none;
    }

    .chatbot-toggle img {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      object-fit: cover;
      filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.2));
    }

    .chatbot-container {
      position: fixed;
      bottom: 130px;
      right: 30px;
      width: 380px;
      height: 550px;
      background: rgba(255, 255, 255, 0.98);
      border-radius: 25px;
      box-shadow: 0 15px 35px rgba(106, 63, 160, 0.3);
      display: none;
      flex-direction: column;
      z-index: 1000;
      overflow: hidden;
      border: 3px solid #fff;
      backdrop-filter: blur(10px);
    }

    .chatbot-header {
      background: linear-gradient(135deg, #6a3fa0 0%, #b48ad1 100%);
      color: white;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 3px dashed #e4ceff;
    }

    .chatbot-header h3 {
      font-size: 1.3rem;
      font-weight: 600;
    }

    .close-chat {
      background: none;
      border: none;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .close-chat:hover {
      transform: scale(1.2);
    }

    .chatbot-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.03"><path d="M30,30 Q50,10 70,30 T90,30 T70,70 T30,70 T10,30 T30,30 Z" fill="%236a3fa0"/></svg>');
    }

    .message {
      max-width: 80%;
      padding: 15px 20px;
      border-radius: 25px;
      font-size: 1rem;
      line-height: 1.5;
      position: relative;
      animation: messageAppear 0.3s ease-out;
    }

    @keyframes messageAppear {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .bot-message {
      background: linear-gradient(135deg, #f1e6ff 0%, #e4ceff 100%);
      align-self: flex-start;
      border-bottom-left-radius: 8px;
      border: 2px solid #b48ad1;
      color: #6a3fa0;
    }

    .user-message {
      background: linear-gradient(135deg, #6a3fa0 0%, #b48ad1 100%);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 8px;
      border: 2px solid #e4ceff;
    }

    .chatbot-input {
      display: flex;
      padding: 20px;
      border-top: 3px dashed #b48ad1;
      background: rgba(255, 255, 255, 0.9);
    }

    .chatbot-input input {
      flex: 1;
      padding: 15px 20px;
      border: 2px solid #b48ad1;
      border-radius: 30px;
      outline: none;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.9);
      color: #6a3fa0;
    }

    .chatbot-input input::placeholder {
      color: #b48ad1;
    }

    .chatbot-input button {
      background: linear-gradient(135deg, #6a3fa0 0%, #b48ad1 100%);
      color: white;
      border: none;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      margin-left: 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(106, 63, 160, 0.4);
    }

    .chatbot-input button:hover {
      transform: scale(1.1) rotate(10deg);
    }

    .option-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }

    .option-btn {
      background: linear-gradient(135deg, #e4ceff 0%, #b48ad1 100%);
      border: 2px solid #fff;
      border-radius: 25px;
      padding: 10px 18px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
      font-weight: 500;
    }

    .option-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(106, 63, 160, 0.3);
    }

    .routine-result {
      background: linear-gradient(135deg, #f1e6ff 0%, #e4ceff 100%);
      border-left: 5px solid #6a3fa0;
      padding: 20px;
      border-radius: 15px;
      margin-top: 15px;
      border: 2px solid #b48ad1;
    }

    .routine-result h4 {
      color: #6a3fa0;
      margin-bottom: 15px;
      font-size: 1.3rem;
      border-bottom: 2px dashed #b48ad1;
      padding-bottom: 8px;
    }

    .restart-btn {
      background: linear-gradient(135deg, #6a3fa0 0%, #b48ad1 100%);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 12px 25px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 15px;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(106, 63, 160, 0.3);
    }

    .restart-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(106, 63, 160, 0.4);
    }

    @media (max-width: 768px) {
      .chatbot-container {
        width: 320px;
        height: 500px;
        right: 20px;
        bottom: 120px;
      }
      
      .chatbot-toggle {
        right: 20px;
        bottom: 20px;
        width: 70px;
        height: 70px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="/imagens/vespa.png" alt="Logo V√©spera">
      <strong>V√©spera</strong>
    </div>
    <nav>
      <a href="/">Home</a>
      <a href="/diario">Di√°rio</a>
      <a href="/artigos">Artigos</a>
    </nav>
   <div style="display:flex; align-items:center; gap:10px;">
      <div class="toggle" id="themeToggle">üåô <span>Modo Noturno</span></div>
      <a class="login-btn" href="/login">Login</a>
    </div>
  </header>

  <section class="hero">
    <div class="modo-noturno" id="toggleModo">
      <div class="modo-btn">üåô</div>
      <span>Modo</span>
    </div>
    <h1>V√©spera</h1>
    <p>Onde os seus dias acabam e os seus sonhos come√ßam</p>
    <img src="/imagens/gato.jpg" alt="Ilustra√ß√£o noite tranquila">
  </section>

  <section class="conteudo">
    <h2>Quem somos n√≥s?</h2>
    <p>O V√©spera √© um site de cuidados com o sono e sa√∫de mental. Ele funciona como um di√°rio noturno digital, com dicas personalizadas e uma IA que cria rotinas espec√≠ficas para cada usu√°rio, com modo noturno que n√£o prejudica os olhos.</p>

    <table class="tabela">
      <tr><th>Modo noturno</th><td>Coloque no modo noturno para ter uma experi√™ncia mais relaxante.</td></tr>
      <tr><th>Di√°rio</th><td>Escreva sobre seu dia e relaxe!</td></tr>
      <tr><th>Veccky</th><td>Fale com a Veccky e ela far√° uma rotina personalizada para voc√™.</td></tr>
      <tr><th>Artigos</th><td>Leia e aprenda sobre como dormir bem.</td></tr>
    </table>

    <div class="equipe">
      <div class="membro"><img src="/imagens/Enzo.png" alt=""><h4>Enzo</h4></div>
      <div class="membro"><img src="/imagens/larissa.png" alt=""><h4>Larissa</h4></div>
      <div class="membro"><img src="/imagens/Matheus.png" alt=""><h4>Matheus</h4></div>
      <div class="membro"><img src="/imagens/Myllena.png" alt=""><h4>Mylena</h4></div>
      <div class="membro"><img src="/imagens/Vinicius.png" alt=""><h4>Vin√≠cius</h4></div>
    </div>
  </section>

  <footer>
    <div class="footer-icons">
      <a href="#">üì∑</a>
      <a href="#">‚ñ∂Ô∏è</a>
      <a href="#">‚ùå</a>
      <a href="#">üìò</a>
    </div>
    <div class="contato">
      <p>üìû (11) 55566-4444 | ‚úâÔ∏è vespera@gmail.com</p>
      <p>¬©2025 V√©spera ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Chatbot Veecky -->
  <div class="chatbot-toggle" id="chatbotToggle">
    <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="Veecky" id="chatbotLogo">
  </div>

  <div class="chatbot-container" id="chatbotContainer">
    <div class="chatbot-header">
      <h3>üêù Veecky - Sua Vespinha do Sono</h3>
      <button class="close-chat" id="closeChat">√ó</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages"></div>
    <div class="chatbot-input">
      <input type="text" id="userInput" placeholder="Digite sua resposta... üí¨">
      <button id="sendMessage">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20px" height="20px">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
        </svg>
      </button>
    </div>
  </div>

  <script>
    // Modo Noturno
    const toggle = document.getElementById('toggleModo');
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });

    // Chatbot Veecky
    const chatbotToggle = document.getElementById('chatbotToggle');
    const chatbotContainer = document.getElementById('chatbotContainer');
    const closeChat = document.getElementById('closeChat');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const userInput = document.getElementById('userInput');
    const sendMessage = document.getElementById('sendMessage');
    const chatbotLogo = document.getElementById('chatbotLogo');

    let currentQuestion = 0;
    let userAnswers = {};
    const questions = [
      {
        text: "üêù Bom dia! Sou a Veecky, sua vespinha do sono! üíú Qual √© o seu nome?",
        key: "name",
        type: "text"
      },
      {
        text: "üíú Que nome lindo! Agora me conta, qual √© a sua idade? üéÇ",
        key: "age",
        type: "number"
      },
      {
        text: "üåô Que horas voc√™ geralmente vai dormir? ‚è∞ (Ex: 22:30 ou 10:30)",
        key: "bedtime",
        type: "time"
      },
      {
        text: "‚òÄÔ∏è Que horas voc√™ precisa acordar? üê¶ (Ex: 06:00 ou 6:00)",
        key: "waketime",
        type: "time"
      },
      {
        text: "üò¥ Voc√™ tem dificuldade para adormecer ou manter o sono? üí§",
        key: "sleepProblems",
        type: "options",
        options: ["üò™ Sim, para adormecer", "üîÑ Sim, para manter o sono", "üò´ Ambos", "üòä N√£o tenho problemas"]
      }
    ];

    function toggleChat() {
      if (chatbotContainer.style.display === 'flex') {
        chatbotContainer.style.display = 'none';
      } else {
        chatbotContainer.style.display = 'flex';
        if (currentQuestion === 0 && chatbotMessages.children.length === 0) {
          addBotMessage(questions[0].text);
        }
      }
    }

    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message');
      messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
      messageDiv.textContent = text;
      chatbotMessages.appendChild(messageDiv);
      if (!text.includes('Rotina de Sono Personalizada')) {
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }
    }

    function addBotMessage(text, options = null) {
      addMessage(text, false);
      
      if (options) {
        const optionsDiv = document.createElement('div');
        optionsDiv.classList.add('option-buttons');
        
        options.forEach(option => {
          const button = document.createElement('button');
          button.classList.add('option-btn');
          button.textContent = option;
          button.addEventListener('click', () => {
            const allOptionButtons = document.querySelectorAll('.option-buttons');
            allOptionButtons.forEach(btnGroup => btnGroup.remove());
            handleOptionClick(option);
          });
          optionsDiv.appendChild(button);
        });
        
        chatbotMessages.appendChild(optionsDiv);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }
    }

    function handleOptionClick(option) {
      addMessage(option, true);
      
      if (option === "üîÅ Sim, quero refazer!" || option === "üîÅ Sim, vamos l√°!") {
        setTimeout(() => {
          restartQuestionnaire();
        }, 800);
      } else if (option === "üòä N√£o, obrigado!" || option === "üòä Agora n√£o") {
        setTimeout(() => {
          addBotMessage("üíú Tudo bem! Estarei aqui se precisar. Tenha √≥timas noites de sono! üêù");
          setTimeout(() => {
            addBotMessage("Se mudar de ideia, √© s√≥ me chamar! Quer tentar novamente?", ["üîÅ Sim, vamos l√°!", "üòä Agora n√£o"]);
          }, 3000);
        }, 800);
      } else {
        if (!userAnswers[questions[currentQuestion].key]) {
          handleUserResponse(option);
        }
      }
    }

    function isValidTime(timeString) {
      const timeRegex = /^([0-1]?[0-9]|2[0-3])[:h]?([0-5][0-9])?$/;
      return timeRegex.test(timeString.replace(/\s/g, ''));
    }

    function formatTime(timeString) {
      let cleanTime = timeString.replace(/\s/g, '').replace('h', ':');
      if (!cleanTime.includes(':')) {
        cleanTime += ':00';
      }
      const [hours, minutes] = cleanTime.split(':');
      const formattedHours = hours.padStart(2, '0');
      const formattedMinutes = minutes.padEnd(2, '0');
      return `${formattedHours}:${formattedMinutes}`;
    }

    function isValidAge(ageString) {
      const age = parseInt(ageString);
      return !isNaN(age) && age > 0 && age < 120;
    }

    function handleUserResponse(response) {
      const currentQ = questions[currentQuestion];
      
      if (currentQ.type === "time") {
        if (!isValidTime(response)) {
          addMessage(response, true);
          setTimeout(() => {
            addBotMessage(`‚è∞ Isso n√£o parece um hor√°rio v√°lido! ${currentQ.text}`);
          }, 800);
          return;
        }
        userAnswers[currentQ.key] = formatTime(response);
      } 
      else if (currentQ.type === "number") {
        if (!isValidAge(response)) {
          addMessage(response, true);
          setTimeout(() => {
            addBotMessage(`üéÇ Isso n√£o parece uma idade v√°lida! Por favor, digite um n√∫mero entre 1 e 119. Qual √© a sua idade?`);
          }, 800);
          return;
        }
        userAnswers[currentQ.key] = response;
      }
      else {
        userAnswers[currentQ.key] = response;
      }
      
      addMessage(response, true);
      currentQuestion++;
      
      if (currentQuestion < questions.length) {
        setTimeout(() => {
          const nextQ = questions[currentQuestion];
          if (nextQ.options) {
            addBotMessage(nextQ.text, nextQ.options);
          } else {
            addBotMessage(nextQ.text);
          }
        }, 800);
      } else {
        setTimeout(() => {
          generateSleepRoutine();
        }, 800);
      }
    }

    function generateSleepRoutine() {
      const name = userAnswers.name || "voc√™";
      const age = parseInt(userAnswers.age) || 30;
      const bedtime = userAnswers.bedtime || "22:00";
      const waketime = userAnswers.waketime || "06:00";
      const sleepProblems = userAnswers.sleepProblems || "N√£o tenho problemas";
      
      const [bedHour, bedMinute] = bedtime.split(':').map(Number);
      const [wakeHour, wakeMinute] = waketime.split(':').map(Number);
      
      let sleepHours = wakeHour - bedHour;
      if (sleepHours < 0) sleepHours += 24;
      
      let recommendations = [];
      
      if (sleepHours < 7) {
        recommendations.push("üêù Tente aumentar suas horas de sono para pelo menos 7 horas por noite");
      } else if (sleepHours > 9) {
        recommendations.push("üí§ Voc√™ est√° dormindo mais do que o necess√°rio. Tente reduzir para 7-9 horas");
      }
      
      if (sleepProblems.includes("adormecer")) {
        recommendations.push("üìµ Evite telas (celular, TV) pelo menos 1 hora antes de dormir");
        recommendations.push("üßò‚Äç‚ôÄÔ∏è Tente t√©cnicas de relaxamento como medita√ß√£o ou respira√ß√£o profunda");
      }
      
      if (sleepProblems.includes("manter")) {
        recommendations.push("‚òï Evite cafe√≠na ap√≥s as 14h");
        recommendations.push("üå°Ô∏è Mantenha o quarto escuro, silencioso e com temperatura agrad√°vel");
      }
      
      if (age < 18) {
        recommendations.push("üë¶ Como voc√™ √© jovem, √© importante dormir entre 8-10 horas por noite para um desenvolvimento saud√°vel");
      } else if (age > 60) {
        recommendations.push("üëµ Pessoas com mais de 60 anos podem precisar de menos sono, mas a qualidade √© fundamental");
      }
      
      chatbotMessages.innerHTML = '';
      
      let routineMessage = `
        <div class="routine-result">
          <h4>üåü Rotina de Sono Personalizada para ${name}</h4>
          <p>üõå <strong>Hor√°rio de dormir:</strong> ${bedtime}</p>
          <p>‚è∞ <strong>Hor√°rio de acordar:</strong> ${waketime}</p>
          <p>üí§ <strong>Total de horas de sono:</strong> ${sleepHours} horas</p>
          <p>üìù <strong>Recomenda√ß√µes da Vespinha:</strong></p>
          <ul style="list-style-type: none; padding-left: 0;">
      `;
      
      recommendations.forEach(rec => {
        routineMessage += `<li>üçØ ${rec}</li>`;
      });
      
      routineMessage += `
          </ul>
          <p style="margin-top: 15px; font-weight: bold;">üêù Lembre-se: consist√™ncia √© a chave para uma boa rotina de sono! üíú</p>
        </div>
      `;
      
      const messageDiv = document.createElement('div');
      messageDiv.innerHTML = routineMessage;
      chatbotMessages.appendChild(messageDiv);
      
      setTimeout(() => {
        const finalMessage = document.createElement('div');
        finalMessage.classList.add('message', 'bot-message');
        finalMessage.textContent = "üíú Obrigada por conversar comigo! Espero que essas dicas te ajudem a ter noites mais tranquilas! üêù";
        chatbotMessages.appendChild(finalMessage);
        
        setTimeout(() => {
          addBotMessage("Quer fazer o question√°rio novamente para ajustar sua rotina?", ["üîÅ Sim, quero refazer!", "üòä N√£o, obrigado!"]);
        }, 1500);
      }, 1000);
    }

    function restartQuestionnaire() {
      currentQuestion = 0;
      userAnswers = {};
      chatbotMessages.innerHTML = '';
      addBotMessage(questions[0].text);
    }

    // Event Listeners do Chatbot
    chatbotToggle.addEventListener('click', toggleChat);
    closeChat.addEventListener('click', toggleChat);

    sendMessage.addEventListener('click', () => {
      if (userInput.value.trim() !== '') {
        const response = userInput.value.trim();
        if (response === "üîÅ Sim, quero refazer!" || response === "üòä N√£o, obrigado!" || 
          response === "üîÅ Sim, vamos l√°!" || response === "üòä Agora n√£o") {
          handleOptionClick(response);
        } else {
          handleUserResponse(response);
        }
        userInput.value = '';
      }
    });

    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && userInput.value.trim() !== '') {
        const response = userInput.value.trim();
        if (response === "üîÅ Sim, quero refazer!" || response === "üòä N√£o, obrigado!" || 
          response === "üîÅ Sim, vamos l√°!" || response === "üòä Agora n√£o") {
          handleOptionClick(response);
        } else {
          handleUserResponse(response);
        }
        userInput.value = '';
      }
    });

    // Inicializa√ß√£o do Chatbot
    window.addEventListener('load', () => {
      chatbotLogo.src = "https://cdn-icons-png.flaticon.com/512/4712/4712035.png";
    });
  </script>
</body>
</html>